{
  "sources": [
    {
      "id": "ee5b148e-5892-4590-83e1-793cc8ab4394",
      "name": "azure-event-hub",
      "type": "AzureEventHubExtended",
      "properties": {
        "dataConnectionId": "7b35cc30-8ad4-4d6f-8a46-65813523bdd1",
        "consumerGroupName": "$Default",
        "startPosition": "Latest"
      }
    }
  ],
  "destinations": [
    {
      "id": "068d1077-33e5-4873-a92f-00bb5d819cb1",
      "name": "Eventhouse",
      "type": "Eventhouse",
      "properties": {
        "dataIngestionMode": "ProcessedIngestion",
        "workspaceId": "00000000-0000-0000-0000-000000000000",
        "itemId": "b743e2f8-a365-804e-4e15-ab6812df0d84",
        "databaseName": "weather_streaming_data",
        "tableName": "weather_Raw_data",
        "inputSerialization": {
          "type": "Json",
          "properties": {
            "encoding": "UTF8"
          }
        }
      },
      "inputNodes": [
        {
          "name": "ManageFields"
        }
      ],
      "inputSchemas": [
        {
          "name": "ManageFields",
          "schema": {
            "columns": [
              {
                "name": "city",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "country",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "lat",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "lon",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "localtime",
                "type": "DateTime",
                "fields": null,
                "items": null
              },
              {
                "name": "temp_c",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "humidity",
                "type": "BigInt",
                "fields": null,
                "items": null
              },
              {
                "name": "wind_kph",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "uv",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "condition_text",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "us_epa_index",
                "type": "BigInt",
                "fields": null,
                "items": null
              },
              {
                "name": "ingestion_time_utc",
                "type": "DateTime",
                "fields": null,
                "items": null
              },
              {
                "name": "pm2_5",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "pm10",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "co",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "no2",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "o3",
                "type": "BigInt",
                "fields": null,
                "items": null
              },
              {
                "name": "so2",
                "type": "Float",
                "fields": null,
                "items": null
              }
            ]
          }
        }
      ]
    },
    {
      "id": "83ef0892-08cc-4651-8e80-9c412d5718a8",
      "name": "Activator",
      "type": "Activator",
      "properties": {
        "workspaceId": "00000000-0000-0000-0000-000000000000",
        "itemId": "a7d04e84-a62a-a701-43e2-1b3185a53b63",
        "inputSerialization": {
          "type": "Json",
          "properties": {
            "encoding": "UTF8"
          }
        }
      },
      "inputNodes": [
        {
          "name": "Filter"
        }
      ],
      "inputSchemas": [
        {
          "name": "Filter",
          "schema": {
            "columns": [
              {
                "name": "city",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "country",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "lat",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "lon",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "localtime",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "temp_c",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "humidity",
                "type": "BigInt",
                "fields": null,
                "items": null
              },
              {
                "name": "wind_kph",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "uv",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "condition_text",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "pm2_5",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "pm10",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "co",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "no2",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "o3",
                "type": "BigInt",
                "fields": null,
                "items": null
              },
              {
                "name": "so2",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "us_epa_index",
                "type": "BigInt",
                "fields": null,
                "items": null
              },
              {
                "name": "ingestion_time_utc",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              }
            ]
          }
        }
      ]
    }
  ],
  "streams": [
    {
      "id": "53ec01f7-6d69-4f29-b827-6190388b47f0",
      "name": "weather-realtime-stream-stream",
      "type": "DefaultStream",
      "properties": {},
      "inputNodes": [
        {
          "name": "azure-event-hub"
        }
      ]
    }
  ],
  "operators": [
    {
      "name": "Filter",
      "type": "Filter",
      "inputNodes": [
        {
          "name": "weather-realtime-stream-stream"
        }
      ],
      "properties": {
        "conditions": [
          {
            "column": {
              "expressionType": "ColumnReference",
              "node": null,
              "columnName": "temp_c",
              "columnPathSegments": []
            },
            "operatorType": "GreaterThan",
            "value": {
              "expressionType": "Literal",
              "dataType": "Float",
              "value": "30"
            }
          }
        ]
      },
      "inputSchemas": [
        {
          "name": "weather-realtime-stream-stream",
          "schema": {
            "columns": [
              {
                "name": "city",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "country",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "lat",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "lon",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "localtime",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "temp_c",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "humidity",
                "type": "BigInt",
                "fields": null,
                "items": null
              },
              {
                "name": "wind_kph",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "uv",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "condition_text",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "pm2_5",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "pm10",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "co",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "no2",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "o3",
                "type": "BigInt",
                "fields": null,
                "items": null
              },
              {
                "name": "so2",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "us_epa_index",
                "type": "BigInt",
                "fields": null,
                "items": null
              },
              {
                "name": "ingestion_time_utc",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              }
            ]
          }
        }
      ]
    },
    {
      "name": "ManageFields",
      "type": "ManageFields",
      "inputNodes": [
        {
          "name": "weather-realtime-stream-stream"
        }
      ],
      "properties": {
        "columns": [
          {
            "type": "Rename",
            "properties": {
              "column": {
                "expressionType": "ColumnReference",
                "node": null,
                "columnName": "city",
                "columnPathSegments": []
              }
            },
            "alias": "city"
          },
          {
            "type": "Rename",
            "properties": {
              "column": {
                "expressionType": "ColumnReference",
                "node": null,
                "columnName": "country",
                "columnPathSegments": []
              }
            },
            "alias": "country"
          },
          {
            "type": "Rename",
            "properties": {
              "column": {
                "expressionType": "ColumnReference",
                "node": null,
                "columnName": "lat",
                "columnPathSegments": []
              }
            },
            "alias": "lat"
          },
          {
            "type": "Rename",
            "properties": {
              "column": {
                "expressionType": "ColumnReference",
                "node": null,
                "columnName": "lon",
                "columnPathSegments": []
              }
            },
            "alias": "lon"
          },
          {
            "type": "Cast",
            "properties": {
              "targetDataType": "DateTime",
              "column": {
                "expressionType": "ColumnReference",
                "node": null,
                "columnName": "localtime",
                "columnPathSegments": []
              }
            },
            "alias": "localtime"
          },
          {
            "type": "Rename",
            "properties": {
              "column": {
                "expressionType": "ColumnReference",
                "node": null,
                "columnName": "temp_c",
                "columnPathSegments": []
              }
            },
            "alias": "temp_c"
          },
          {
            "type": "Rename",
            "properties": {
              "column": {
                "expressionType": "ColumnReference",
                "node": null,
                "columnName": "humidity",
                "columnPathSegments": []
              }
            },
            "alias": "humidity"
          },
          {
            "type": "Rename",
            "properties": {
              "column": {
                "expressionType": "ColumnReference",
                "node": null,
                "columnName": "wind_kph",
                "columnPathSegments": []
              }
            },
            "alias": "wind_kph"
          },
          {
            "type": "Rename",
            "properties": {
              "column": {
                "expressionType": "ColumnReference",
                "node": null,
                "columnName": "uv",
                "columnPathSegments": []
              }
            },
            "alias": "uv"
          },
          {
            "type": "Rename",
            "properties": {
              "column": {
                "expressionType": "ColumnReference",
                "node": null,
                "columnName": "condition_text",
                "columnPathSegments": []
              }
            },
            "alias": "condition_text"
          },
          {
            "type": "Rename",
            "properties": {
              "column": {
                "expressionType": "ColumnReference",
                "node": null,
                "columnName": "us_epa_index",
                "columnPathSegments": []
              }
            },
            "alias": "us_epa_index"
          },
          {
            "type": "Cast",
            "properties": {
              "targetDataType": "DateTime",
              "column": {
                "expressionType": "ColumnReference",
                "node": null,
                "columnName": "ingestion_time_utc",
                "columnPathSegments": []
              }
            },
            "alias": "ingestion_time_utc"
          },
          {
            "type": "Rename",
            "properties": {
              "column": {
                "expressionType": "ColumnReference",
                "node": null,
                "columnName": "pm2_5",
                "columnPathSegments": []
              }
            },
            "alias": "pm2_5"
          },
          {
            "type": "Rename",
            "properties": {
              "column": {
                "expressionType": "ColumnReference",
                "node": null,
                "columnName": "pm10",
                "columnPathSegments": []
              }
            },
            "alias": "pm10"
          },
          {
            "type": "Rename",
            "properties": {
              "column": {
                "expressionType": "ColumnReference",
                "node": null,
                "columnName": "co",
                "columnPathSegments": []
              }
            },
            "alias": "co"
          },
          {
            "type": "Rename",
            "properties": {
              "column": {
                "expressionType": "ColumnReference",
                "node": null,
                "columnName": "no2",
                "columnPathSegments": []
              }
            },
            "alias": "no2"
          },
          {
            "type": "Rename",
            "properties": {
              "column": {
                "expressionType": "ColumnReference",
                "node": null,
                "columnName": "o3",
                "columnPathSegments": []
              }
            },
            "alias": "o3"
          },
          {
            "type": "Rename",
            "properties": {
              "column": {
                "expressionType": "ColumnReference",
                "node": null,
                "columnName": "so2",
                "columnPathSegments": []
              }
            },
            "alias": "so2"
          }
        ]
      },
      "inputSchemas": [
        {
          "name": "weather-realtime-stream-stream",
          "schema": {
            "columns": [
              {
                "name": "city",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "country",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "lat",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "lon",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "localtime",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "temp_c",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "humidity",
                "type": "BigInt",
                "fields": null,
                "items": null
              },
              {
                "name": "wind_kph",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "uv",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "condition_text",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "pm2_5",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "pm10",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "co",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "no2",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "o3",
                "type": "BigInt",
                "fields": null,
                "items": null
              },
              {
                "name": "so2",
                "type": "Float",
                "fields": null,
                "items": null
              },
              {
                "name": "us_epa_index",
                "type": "BigInt",
                "fields": null,
                "items": null
              },
              {
                "name": "ingestion_time_utc",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              }
            ]
          }
        }
      ]
    }
  ],
  "compatibilityLevel": "1.1"
}